<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reactivity 코드 라이브러리화 하기</title>
</head>
<body>
    <div id="app">

    </div>
</body>

<script>
    var div= document.querySelector('#app')
    console.log(div);
    div.innerHTML='hello world';
    let viewModel ={};
    //즉시실행함수
    (function(){
        //동작을 재정의
        //Object.defineProperties('대상객체','객체의속성'){
            //정의할 내용
        //}
        function init(){
            //동작을 재정의
            Object.defineProperty(viewModel,'str',{
                //정의할 내용
                //속성에 접근했을때의 동작정의
                get: function(){
                    console.log('접근');
                },
                //속성에 값을 할당했을 때의 동작을 정의
                set: function(newValue){
                    console.log('할당',newValue);
                    render(newValue);
                    
                }
                //viewModel.str//접근이 나옴
                //viewModel.str=10 // web-dev.html:70 할당 10

                //viewModel.str='hi' //할당 hi  ->div태그안에 hi가들어간다.//<div id="app">hi</div>
            });
        }
        function render(value){
            div.innerHTML= value;
        }
        init();
    })();

    
</script>
</html>